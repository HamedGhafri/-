<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>المفضلات</title>
<link rel="stylesheet" href="style.css">
</head>

<body>

<div class="container fade-up">

    <div class="decor">ـــ༻❁༺ـــ</div>
    <h1>مفضلاتي</h1>
    <div class="decor">ـــ༻❁༺ـــ</div>

    <div id="favList"></div>

    <a href="index.html" class="back-btn">عودة</a>

</div>

<script>
async function loadFavs(){
    const favs = JSON.parse(localStorage.getItem("fav-poems") || "[]");
    const txt = await (await fetch("poems.txt")).text();
    const poems = txt.split("===\n").map(p=>p.trim()).filter(p=>p);

    favList.innerHTML = "";

    favs.forEach(i=>{
        const title = poems[i].split("\n")[0];
        favList.innerHTML += `
            <a class="poem-card fade-up" href="viewer.html?id=${i}">
                ${title}
            </a>`;
    });

    if(favs.length === 0){
        favList.innerHTML = "<p style='text-align:center;'>لا توجد قصائد في المفضلة.</p>";
    }
}
loadFavs();
</script>

</body>
</html>
