<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>قصائد حمد الغافري</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<h1 class="title">قصائد حمد الغافري</h1>

<div id="poems-list">جاري تحميل القصائد...</div>

<script>
    async function loadPoems() {
        const res = await fetch("poems.txt");
        const text = await res.text();

        const blocks = text.split("===\n").map(b => b.trim()).filter(b => b.length > 0);

        const list = document.getElementById("poems-list");
        list.innerHTML = "";

        blocks.forEach((block, index) => {
            const lines = block.split("\n");
            const title = lines[0].trim();

            const a = document.createElement("a");
            a.href = `viewer.html?id=${index}`;
            a.className = "poem-link";
            a.textContent = title;

            list.appendChild(a);
        });
    }

    loadPoems();
</script>

</body>
</html>
