<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
    <meta charset="UTF-8">
    <title>عرض القصيدة</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>

<div class="container fade-up">
    <h1 id="title"></h1>

    <div id="poem" class="poem-box"></div>

    <div class="stamp">— ديوان حمد الغافري —</div>

    <a href="index.html" class="back-btn">عودة للفهرس</a>
</div>

<script>
document.addEventListener("contextmenu", e => e.preventDefault()); // منع اليمين

async function loadPoem() {
    const res = await fetch("poems.txt");
    const text = await res.text();
    const poems = text.split("===\n").map(p=>p.trim()).filter(p=>p);

    const id = new URLSearchParams(location.search).get("id");
    const lines = poems[id].split("\n");

    document.getElementById("title").textContent = lines[0];

    const content = lines.slice(2).map((l,i)=>`
        <div class="fade-up" style="animation-delay:${i*0.12}s">${l}</div>
    `).join("");

    document.getElementById("poem").innerHTML = content;
}

loadPoem();
</script>

</body>
</html>
