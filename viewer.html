<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>Ø¹Ø±Ø¶ Ø§Ù„Ù‚ØµÙŠØ¯Ø©</title>
    <link rel="stylesheet" href="style.css">
</head>
<body class="fade">

<button id="modeToggle" onclick="toggleMode()">ðŸŒ“</button>

<div class="container">

    <h1 id="title"></h1>
    <div id="content" class="poem-text fade"></div>

    <a href="index.html" class="back-btn">â¬… Ø§Ù„Ø¹ÙˆØ¯Ø©</a>

</div>

<script>
/* ÙˆØ¶Ø¹ Ù„ÙŠÙ„ÙŠ */
function toggleMode() {
    document.body.classList.toggle("dark");
    localStorage.setItem("darkMode", document.body.classList.contains("dark"));
}

if (localStorage.getItem("darkMode") === "true") {
    document.body.classList.add("dark");
}

/* ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù‚ØµÙŠØ¯Ø© */
async function loadPoem() {
    const res = await fetch("poems.txt");
    const text = await res.text();
    
    const poems = text.split("===\n").map(p => p.trim()).filter(p => p);
    const id = new URLSearchParams(window.location.search).get("id");

    const poemLines = poems[id].split("\n");

    document.getElementById("title").textContent = poemLines[0].trim();
    document.getElementById("content").innerHTML = poemLines.slice(1).join("<br>");
}

loadPoem();
</script>

</body>
</html></body>
</html>
